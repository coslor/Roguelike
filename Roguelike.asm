* = $3800
charset.array:
    !byte $30, $CC, $CC, $C0, $C0, $CC, $30, 0, $30, $CC, $CC, $FC, $CC, $CC, $CC, 0
    !byte $F0, $CC, $CC, $F0, $CC, $CC, $F0, 0, $3C, $C0, $C0, $C0, $C0, $C0, $3C, 0
    !byte $F0, $CC, $CC, $CC, $CC, $CC, $F0, 0, $FC, $C0, $C0, $F0, $C0, $C0, $FC, 0
    !byte $FC, $C0, $C0, $F0, $C0, $C0, $C0, 0, $3C, $C0, $C0, $CC, $CC, $CC, $F0, 0
    !byte $CC, $CC, $CC, $FC, $CC, $CC, $CC, 0, $FC, $30, $30, $30, $30, $30, $FC, 0
    !byte $3F, $C, $C, $C, $C, $CC, $30, 0, $CC, $CC, $F0, $F0, $F0, $CC, $CC, 0
    !byte $C0, $C0, $C0, $C0, $C0, $C0, $FC, 0, $CC, $FC, $FC, $CC, $CC, $CC, $CC, 0
    !byte 0, $C3, $C3, $F3, $CF, $C3, $C3, 0, $30, $CC, $CC, $CC, $CC, $CC, $30, 0
    !byte $F0, $CC, $CC, $F0, $C0, $C0, $C0, 0, $30, $CC, $CC, $CC, $CC, $CC, $30, $C
    !byte $F0, $CC, $CC, $F0, $CC, $CC, $CC, 0, $3C, $C0, $C0, $30, $C, $C, $F0, 0
    !byte $FC, $30, $30, $30, $30, $30, $30, 0, $CC, $CC, $CC, $CC, $CC, $CC, $FC, 0
    !byte $CC, $CC, $CC, $CC, $CC, $CC, $30, 0, $CC, $CC, $CC, $CC, $CC, $FC, $CC, 0
    !byte $CC, $CC, $CC, $30, $CC, $CC, $CC, 0, $CC, $CC, $CC, $30, $30, $30, $30, 0
    !byte $FC, $C, $30, $30, $C0, $C0, $FC, 0, $3C, $30, $30, $30, $30, $30, $3C, 0
    !byte $C, $33, $30, $FC, $30, $33, $FC, 0, $3C, $C, $C, $C, $C, $C, $3C, 0
    !byte $30, $FC, $FC, $30, $30, $30, $30, 0, 0, $30, $30, $FF, $FF, $30, $30, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, $30, $30, $30, $30, $30, 0, $30, 0
    !byte $CC, $CC, 0, 0, 0, 0, 0, 0, $3C, $3C, $FF, $3C, $FF, $3C, $3C, 0
    !byte $3C, $3F, $FC, $FC, $3F, $3F, $FC, $3C, $CC, $C, $30, $30, $C0, $C0, $CC, 0
    !byte $3C, $C3, $30, $CC, $C3, $CC, $3F, 0, 3, $C, $30, 0, 0, 0, 0, 0
    !byte $30, $F0, $C0, $C0, $C0, $F0, $30, 0, $30, $3C, $C, $C, $C, $3C, $30, 0
    !byte 0, $C3, $3C, $FF, $3C, $C3, 0, 0, 0, $30, $30, $FC, $30, $30, 0, 0
    !byte 0, 0, 0, 0, 0, $C, $C, $30, 0, 0, 0, $3C, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, $30, $30, 0, $C, $C, $C, $30, $C0, $C0, $C0, 0
    !byte $30, $CC, $CC, $FC, $CC, $CC, $30, 0, $30, $F0, $30, $30, $30, $30, $FC, 0
    !byte $30, $CC, $C, $C, $30, $C0, $FC, 0, $30, $CC, $C, $30, $C, $CC, $30, 0
    !byte $C, $C, $3C, $CC, $FC, $C, $C, 0, $FC, $C0, $C0, $FC, $C, $C, $F0, 0
    !byte $3C, $C0, $C0, $F0, $CC, $CC, $30, 0, $FC, $C, $C, $30, $30, $30, $30, 0
    !byte $30, $CC, $CC, $30, $CC, $CC, $30, 0, $30, $CC, $CC, $30, $C, $CC, $30, 0
    !byte 0, 0, $30, 0, 0, $30, 0, 0, 0, 0, $30, 0, 0, $30, $C, $30
    !byte 0, $C, $30, $C0, $30, $C, 0, 0, 0, 0, $FC, 0, $FC, 0, 0, 0
    !byte 0, $30, $C, 3, $C, $30, 0, 0, $30, $CC, $CC, $C, $30, 0, $30, 0
    !byte 0, 0, 0, $FF, 0, 0, 0, 0, $30, $FC, $FC, $FC, $30, $30, $FC, 0
    !byte $3C, $3C, $3C, $3C, $3C, $3C, $3C, $3C, 0, 0, 0, 0, $FF, 0, 0, 0
    !byte 0, 0, 0, $FF, 0, 0, 0, 0, 0, 0, $FF, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, $FF, 0, 0, $30, $30, $30, $30, $30, $30, $30, $30
    !byte $C, $C, $C, $C, $C, $C, $C, $C, 0, 0, 0, $F0, $3C, $C, $C, $C
    !byte $30, $30, $3C, $3F, $F, 0, 0, 0, $C, $C, $3C, $F0, $F0, 0, 0, 0
    !byte $C0, $C0, $C0, $C0, $C0, $C0, $FF, $FF, $C0, $C0, $30, $30, $C, $C, 3, 3
    !byte 3, 3, $C, $C, $30, $30, $C0, $C0, $FF, $FF, $C0, $C0, $C0, $C0, $C0, $C0
    !byte $FF, $FF, 3, 3, 3, 3, 3, 3, 0, $3C, $FF, $FF, $FF, $FF, $3C, 0
    !byte 0, 0, 0, 0, 0, 0, $FF, 0, $CC, $FC, $FC, $FC, $FC, $30, $30, 0
    !byte $30, $30, $30, $30, $30, $30, $30, $30, 0, 0, 0, $F, $3F, $3C, $30, $30
    !byte $C3, $C3, $FF, $3C, $3C, $FF, $C3, $C3, 0, $3C, $FF, $C3, $C3, $FF, $3C, 0
    !byte $30, $30, $CC, $CC, $30, $30, $FC, 0, $C, $C, $C, $C, $C, $C, $C, $C
    !byte $3C, $3C, $FF, $FF, $FF, $FF, $3C, $3C, $3C, $3C, $3C, $FF, $FF, $3C, $3C, $3C
    !byte $C0, $C0, $30, $30, $C0, $C0, $30, $30, $3C, $3C, $3C, $3C, $3C, $3C, $3C, $3C
    !byte 3, $FF, $F3, $33, $33, $33, $33, 0, $FF, $FF, $3F, $3F, $F, $F, 3, 3
    !byte 0, 0, 0, 0, 0, 0, 0, 0, $F0, $F0, $F0, $F0, $F0, $F0, $F0, $F0
    !byte 0, 0, 0, 0, $FF, $FF, $FF, $FF, $FF, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, $FF, $C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0
    !byte $CC, $CC, $33, $33, $CC, $CC, $33, $33, 3, 3, 3, 3, 3, 3, 3, 3
    !byte 0, 0, 0, 0, $CC, $CC, $33, $33, $FF, $FF, $FC, $FC, $F0, $F0, $C0, $C0
    !byte 3, 3, 3, 3, 3, 3, 3, 3, $3C, $3C, $3C, $3F, $3F, $3C, $3C, $3C
    !byte 0, 0, 0, 0, $F, $F, $F, $F, $3C, $3C, $3C, $3F, $3F, 0, 0, 0
    !byte 0, 0, 0, $FC, $FC, $3C, $3C, $3C, 0, 0, 0, 0, 0, 0, $FF, $FF
    !byte 0, 0, 0, $3F, $3F, $3C, $3C, $3C, $3C, $3C, $3C, $FF, $FF, 0, 0, 0
    !byte 0, 0, 0, $FF, $FF, $3C, $3C, $3C, $3C, $3C, $3C, $FC, $FC, $3C, $3C, $3C
    !byte $C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0
    !byte 3, 3, 3, 3, 3, 3, 3, 3, $FF, 0, 0, 0, 0, 0, 0, 0
    !byte $FF, $FF, $FF, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, $FF, $FF, $FF
    !byte 3, 3, 3, 3, 3, 3, 3, $FF, 0, 0, 0, 0, $F0, $F0, $F0, $F0
    !byte $F, $F, $F, $F, 0, 0, 0, 0, $3C, $3C, $3C, $FC, $FC, 0, 0, 0
    !byte $F0, $F0, $F0, $F0, 0, 0, 0, 0, $F0, $F0, $F0, $F0, $F, $F, $F, $F
    !byte $C3, $99, $91, $91, $9F, $99, $C3, $FF, 2, $22, $12, $77, $30, $A8, $44, $88
    !byte $8A, $8A, $8A, 0, $A2, $A2, $A2, 0, $88, $8A, $8A, 0, $A2, $A2, $22, 0
    !byte $55, $95, $55, $59, $55, $55, $95, $55, $50, $94, $54, $58, $94, $54, $14, 4
    !byte 0, 0, $15, $FE, $C1, $FD, $FD, $FC, 1, $E, $3C, $F8, $E9, $FD, $FD, $FC
    !byte $CC, $CC, $CC, $FC, $2A, $22, $2A, $20, $F0, $CC, $CC, $F0, $41, $51, $45, $41
    !byte 0, $28, 0, $28, 0, $AA, 0, $AA, $FF, 0, $FF, 0, $3C, 0, $3C, 0
    !byte 5, 5, $11, $40, 2, $A, $2A, $AA, $40, $10, 5, 5, $81, $A0, $A8, $AA
    !byte $99, $89, $81, $81, $91, $99, $99, $FF, $C3, $99, $99, $99, $99, $99, $C3, $FF
    !byte $83, $99, $99, $83, $9F, $9F, $9F, $FF, $C3, $99, $99, $99, $99, $C3, $F1, $FF
    !byte $83, $99, $99, $83, $87, $93, $99, $FF, $C3, $99, $9F, $C3, $F9, $99, $C3, $FF
    !byte $81, $E7, $E7, $E7, $E7, $E7, $E7, $FF, $99, $99, $99, $99, $99, $99, $C3, $FF
    !byte $99, $99, $99, $99, $99, $C3, $E7, $FF, $9C, $9C, $9C, $94, $80, $88, $9C, $FF
    !byte $99, $99, $C3, $E7, $C3, $99, $99, $FF, $99, $99, $99, $C3, $E7, $E7, $E7, $FF
    !byte $81, $F9, $F3, $E7, $CF, $9F, $81, $FF, $C3, $CF, $CF, $CF, $CF, $CF, $C3, $FF
    !byte $F3, $ED, $CF, $83, $CF, $9D, 3, $FF, $C3, $F3, $F3, $F3, $F3, $F3, $C3, $FF
    !byte $FF, $E7, $C3, $81, $E7, $E7, $E7, $E7, $FF, $EF, $CF, $80, $80, $CF, $EF, $FF
    !byte $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $23, $33, $EC, $20, $20, $EC, $CC, $88
    !byte $99, $99, $99, $FF, $FF, $FF, $FF, $FF, $99, $99, 0, $99, 0, $99, $99, $FF
    !byte $E7, $C1, $9F, $C3, $F9, $83, $E7, $FF, $9D, $99, $F3, $E7, $CF, $99, $B9, $FF
    !byte $C3, $99, $C3, $C7, $98, $99, $C0, $FF, $F9, $F3, $E7, $FF, $FF, $FF, $FF, $FF
    !byte $F3, $E7, $CF, $CF, $CF, $E7, $F3, $FF, $CF, $E7, $F3, $F3, $F3, $E7, $CF, $FF
    !byte $FF, $99, $C3, 0, $C3, $99, $FF, $FF, $FF, $E7, $E7, $81, $E7, $E7, $FF, $FF
    !byte $FF, $FF, $FF, $FF, $FF, $E7, $E7, $CF, $FF, $FF, $FF, $81, $FF, $FF, $FF, $FF
    !byte $FF, $FF, $FF, $FF, $FF, $E7, $E7, $FF, $FF, $FC, $F9, $F3, $E7, $CF, $9F, $FF
    !byte $C3, $99, $91, $89, $99, $99, $C3, $FF, $E7, $E7, $C7, $E7, $E7, $E7, $81, $FF
    !byte $C3, $99, $F9, $F3, $CF, $9F, $81, $FF, $C3, $99, $F9, $E3, $F9, $99, $C3, $FF
    !byte $F9, $F1, $E1, $99, $80, $F9, $F9, $FF, $81, $9F, $83, $F9, $F9, $99, $C3, $FF
    !byte $C3, $99, $9F, $83, $99, $99, $C3, $FF, $81, $99, $F3, $E7, $E7, $E7, $E7, $FF
    !byte $C3, $99, $99, $C3, $99, $99, $C3, $FF, $C3, $99, $99, $C1, $F9, $99, $C3, $FF
    !byte $FF, $FF, $E7, $FF, $FF, $E7, $FF, $FF, $FF, $FF, $E7, $FF, $FF, $E7, $E7, $CF
    !byte $F1, $E7, $CF, $9F, $CF, $E7, $F1, $FF, $FF, $FF, $81, $FF, $81, $FF, $FF, $FF
    !byte $8F, $E7, $F3, $F9, $F3, $E7, $8F, $FF, $C3, $99, $F9, $F3, $E7, $FF, $E7, $FF
    !byte $FF, $FF, $FF, 0, 0, $FF, $FF, $FF, $F7, $E3, $C1, $80, $80, $E3, $C1, $FF
    !byte $E7, $E7, $E7, $E7, $E7, $E7, $E7, $E7, $FF, $FF, $FF, 0, 0, $FF, $FF, $FF
    !byte $FF, $FF, 0, 0, $FF, $FF, $FF, $FF, $FF, 0, 0, $FF, $FF, $FF, $FF, $FF
    !byte $FF, $FF, $FF, $FF, 0, 0, $FF, $FF, $CF, $CF, $CF, $CF, $CF, $CF, $CF, $CF
    !byte $F3, $F3, $F3, $F3, $F3, $F3, $F3, $F3, $FF, $FF, $FF, $1F, $F, $C7, $E7, $E7
    !byte $E7, $E7, $E3, $F0, $F8, $FF, $FF, $FF, $E7, $E7, $C7, $F, $1F, $FF, $FF, $FF
    !byte $3F, $3F, $3F, $3F, $3F, $3F, 0, 0, $3F, $1F, $8F, $C7, $E3, $F1, $F8, $FC
    !byte $FC, $F8, $F1, $E3, $C7, $8F, $1F, $3F, 0, 0, $3F, $3F, $3F, $3F, $3F, $3F
    !byte 0, 0, $FC, $FC, $FC, $FC, $FC, $FC, $FF, $C3, $81, $81, $81, $81, $C3, $FF
    !byte $FF, $FF, $FF, $FF, $FF, 0, 0, $FF, $C9, $80, $80, $80, $C1, $E3, $F7, $FF
    !byte $9F, $9F, $9F, $9F, $9F, $9F, $9F, $9F, $FF, $FF, $FF, $F8, $F0, $E3, $E7, $E7
    !byte $3C, $18, $81, $C3, $C3, $81, $18, $3C, $FF, $C3, $81, $99, $99, $81, $C3, $FF
    !byte $E7, $E7, $99, $99, $E7, $E7, $C3, $FF, $F9, $F9, $F9, $F9, $F9, $F9, $F9, $F9
    !byte $F7, $E3, $C1, $80, $C1, $E3, $F7, $FF, $E7, $E7, $E7, 0, 0, $E7, $E7, $E7
    !byte $3F, $3F, $CF, $CF, $3F, $3F, $CF, $CF, $E7, $E7, $E7, $E7, $E7, $E7, $E7, $E7
    !byte $FF, $FF, $FC, $C1, $89, $C9, $C9, $FF, 0, $80, $C0, $E0, $F0, $F8, $FC, $FE
    !byte $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $F, $F, $F, $F, $F, $F, $F, $F
    !byte $FF, $FF, $FF, $FF, 0, 0, 0, 0, 0, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    !byte $FF, $FF, $FF, $FF, $FF, $FF, $FF, 0, $3F, $3F, $3F, $3F, $3F, $3F, $3F, $3F
    !byte $33, $33, $CC, $CC, $33, $33, $CC, $CC, $FC, $FC, $FC, $FC, $FC, $FC, $FC, $FC
    !byte $FF, $FF, $FF, $FF, $33, $33, $CC, $CC, 0, 1, 3, 7, $F, $1F, $3F, $7F
    !byte $FC, $FC, $FC, $FC, $FC, $FC, $FC, $FC, $E7, $E7, $E7, $E0, $E0, $E7, $E7, $E7
    !byte $FF, $FF, $FF, $FF, $F0, $F0, $F0, $F0, $E7, $E7, $E7, $E0, $E0, $FF, $FF, $FF
    !byte $FF, $FF, $FF, 7, 7, $E7, $E7, $E7, $FF, $FF, $FF, $FF, $FF, $FF, 0, 0
    !byte $FF, $FF, $FF, $E0, $E0, $E7, $E7, $E7, $E7, $E7, $E7, 0, 0, $FF, $FF, $FF
    !byte $FF, $FF, $FF, 0, 0, $E7, $E7, $E7, $E7, $E7, $E7, 7, 7, $E7, $E7, $E7
    !byte $3F, $3F, $3F, $3F, $3F, $3F, $3F, $3F, $1F, $1F, $1F, $1F, $1F, $1F, $1F, $1F
    !byte $F8, $F8, $F8, $F8, $F8, $F8, $F8, $F8, 0, 0, $FF, $FF, $FF, $FF, $FF, $FF
    !byte 0, 0, 0, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, 0, 0, 0
    !byte $FC, $FC, $FC, $FC, $FC, $FC, 0, 0, $FF, $FF, $FF, $FF, $F, $F, $F, $F
    !byte $F0, $F0, $F0, $F0, $FF, $FF, $FF, $FF, $E7, $E7, $E7, 7, 7, $FF, $FF, $FF
    !byte $F, $F, $F, $F, $FF, $FF, $FF, $FF, $F, $F, $F, $F, $F0, $F0, $F0, $F0
* = $3600
sprite.array:
    !byte 3, 0, 0, $33, 0, 0, $13, 0, 0, $66, 0, 0, $20, 0, 0, $FC
    !byte 0, 0, $44, 0, 0, $CC, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, $86
    !byte $F, 0, $C0, $3D, 0, $C0, $35, 3, 0, 4, $33, 0, 8, 8, 0, $3D
    !byte $7C, 0, $3C, $C3, 0, $3D, 0, 0, $28, 0, 0, $33, 0, 0, $33, 0
    !byte 0, $F3, 0, 0, $C0, $C0, 0, $80, $80, 0, $A0, $A0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, $96
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, $80, $80, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, $85
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, $85
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, $85
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, $85
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, $85
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    !byte 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, $85
* = $801
_basic_loader.array:
    !byte $B, 8, $A, 0, $9E, $32, $30, $36, $31, 0, 0, 0
 
* = $80d
main:
; 
;line:81:Roguelike.mfk
;       reset_player_position()
    JSR reset_player_position
; 
;line:83:Roguelike.mfk
;       running=true
    LDA #1
    STA main$running
; 
;line:652:Roguelike.mfk
;       poke($D40E, $ff)
    LDA #$FF
    STA $D40E
; 
;line:653:Roguelike.mfk
;       poke($D40F, $ff)
    STA $D40F
; 
;line:654:Roguelike.mfk
;       poke($D412, $80)
    LDA #$80
    STA $D412
; 
;line:655:Roguelike.mfk
;       while vic_raster != $70 {}
.ai__00179.wh__00014:
    LDA $D012
    CMP #$70
    BNE .ai__00179.wh__00014
; 
;line:656:Roguelike.mfk
;       rand_seed.hi = peek($D41B)
    LDA $D41B
    STA rand_seed + 1
; 
;line:657:Roguelike.mfk
;       while vic_raster != $40 {}
.ai__00179.wh__00019:
    LDA $D012
    CMP #$40
    BNE .ai__00179.wh__00019
; 
;line:658:Roguelike.mfk
;       rand_seed.lo = peek($D41B)
    LDA $D41B
    STA rand_seed
; 
;line:90:Roguelike.mfk
;       clear_screen(light_grey,32)    
    LDA #$F
    STA clear_screen$color
    LDA #$20
    STA clear_screen$char
    JSR clear_screen
; 
;line:94:Roguelike.mfk
;       activate_charset()
    JSR activate_charset
; 
;line:95:Roguelike.mfk
;       activate_sprites()
    JSR activate_sprites
; 
;line:98:Roguelike.mfk
;       charout($05)    //WHITE
    LDA #5
    STA charout$char
    JSR charout
; 
;line:99:Roguelike.mfk
;       charout($0E)    //UPPER
    LDA #$E
    STA charout$char
    JSR charout
; 
;line:100:Roguelike.mfk
;       charout($08)    //LOCK UPPER/LOWER
    LDA #8
    STA charout$char
    JSR charout
; 
;line:108:Roguelike.mfk
;       build_arrays()
    JSR build_arrays
; 
;line:111:Roguelike.mfk
;       build_dungeon()
    JSR build_dungeon
; 
;line:113:Roguelike.mfk
;       start_raster_timer()
    JSR start_raster_timer
; 
;line:116:Roguelike.mfk
;       draw_screen(map_row,map_col)
    LDA map_row
    STA draw_screen$map_row
    LDA map_col
    STA draw_screen$map_col
    JSR draw_screen
; 
;line:120:Roguelike.mfk
;       while (running) {
.wh__00151:
    LDA main$running
; 
;line
    BNE .lj80002
; 
;line:120:Roguelike.mfk
;       while (running) {
    JMP .ew__00154
; 
;line
.lj80002:
; 
;line:121:Roguelike.mfk
;           set_screen_loc(0,0)
    LDA #0
    TAX
    JSR set_screen_loc
; 
;line:122:Roguelike.mfk
;           putstrz("map:x="z)
    LDA #lo(textliteral$4d41503a583d00.array)
    STA putstrz$str
    LDA #hi(textliteral$4d41503a583d00.array)
    STA putstrz$str + 1
    JSR putstrz
; 
;line:123:Roguelike.mfk
;           putword(map_col)
    LDA map_col
    STA putword$w
    LDA #0
    STA putword$w + 1
    JSR putword
; 
;line:124:Roguelike.mfk
;           putstrz(" ,y="z)
    LDA #lo(textliteral$202c593d00.array)
    STA putstrz$str
    LDA #hi(textliteral$202c593d00.array)
    STA putstrz$str + 1
    JSR putstrz
; 
;line:125:Roguelike.mfk
;           putword(map_row)
    LDA map_row
    STA putword$w
    LDA #0
    STA putword$w + 1
    JSR putword
; 
;line:126:Roguelike.mfk
;           putstrz(" draw time="z)
    LDA #lo(textliteral$20445241572054494d453d00.array)
    STA putstrz$str
    LDA #hi(textliteral$20445241572054494d453d00.array)
    STA putstrz$str + 1
    JSR putstrz
; 
;line:127:Roguelike.mfk
;           putword(draw_time)
    LDA main$draw_time
    STA putword$w
    LDA main$draw_time + 1
    STA putword$w + 1
    JSR putword
; 
;line:133:Roguelike.mfk
;           putstrz(" key(wasd)="z)
    LDA #lo(textliteral$204b45592857415344293d00.array)
    STA putstrz$str
    LDA #hi(textliteral$204b45592857415344293d00.array)
    STA putstrz$str + 1
    JSR putstrz
; 
;line:235:Roguelike.mfk
;       key=0
    LDX #0
; 
;line:847:Roguelike.mfk
;       sei
    SEI
; 
;line:242:Roguelike.mfk
;       cia1_pra=%11111101        //row 1=LSHIFT     E     S     Z     4     A     W     3
    LDA #$FD
    STA $DC00
; 
;line:244:Roguelike.mfk
;       col=cia1_prb            //read col1
    LDA $DC01
    TAY
; 
;line:246:Roguelike.mfk
;       if (col == %11111101){    //W
    CMP #$FD
    BNE .ai__00180.el__00078
; 
;line:247:Roguelike.mfk
;           key= 'w'
    LDX #$57
; 
;line:246:Roguelike.mfk
;       if (col == %11111101){    //W
    BNE .ai__00180.fi__00079
.ai__00180.el__00078:
; 
;line:248:Roguelike.mfk
;       } else if (col == %11011111) {
    CPY #$DF
    BNE .ai__00180.el__00076
; 
;line:249:Roguelike.mfk
;           key= 's'
    LDX #$53
; 
;line:248:Roguelike.mfk
;       } else if (col == %11011111) {
    BNE .ai__00180.fi__00077
.ai__00180.el__00076:
; 
;line:250:Roguelike.mfk
;       } else if (col == %11111011) {
    CPY #$FB
    BNE .ai__00180.el__00074
; 
;line:251:Roguelike.mfk
;           key= 'a'
    LDX #$41
; 
;line:250:Roguelike.mfk
;       } else if (col == %11111011) {
    BNE .ai__00180.fi__00075
.ai__00180.el__00074:
; 
;line:257:Roguelike.mfk
;           cia1_pra=%11111011        //row 2=X     T     F     C     6     D     R     5
    LDA #$FB
    STA $DC00
; 
;line:258:Roguelike.mfk
;           col=cia1_prb            //read col2
    LDA $DC01
; 
;line:259:Roguelike.mfk
;           if (col == %11111011) {    //D
    CMP #$FB
    BNE .ai__00180.el__00072
; 
;line:260:Roguelike.mfk
;               key= 'd'
    LDX #$44
; 
;line:259:Roguelike.mfk
;           if (col == %11111011) {    //D
    BNE .ai__00180.fi__00073
.ai__00180.el__00072:
; 
;line:263:Roguelike.mfk
;               cia1_pra=%01111111        //row 7=STOP     Q     C=     SPACE     2     CTRL     <-     1 
    LDA #$7F
    STA $DC00
; 
;line:264:Roguelike.mfk
;               col=cia1_prb
    LDA $DC01
; 
;line:265:Roguelike.mfk
;               if (col == %1111110) {    //STOP key
    CMP #$7E
    BNE .ai__00180.fi__00071
; 
;line:266:Roguelike.mfk
;                   key=3                //CTRL-c
    LDX #3
; 
;line:265:Roguelike.mfk
;               if (col == %1111110) {    //STOP key
.ai__00180.fi__00071:
; 
;line:259:Roguelike.mfk
;           if (col == %11111011) {    //D
.ai__00180.fi__00073:
; 
;line:250:Roguelike.mfk
;       } else if (col == %11111011) {
.ai__00180.fi__00075:
; 
;line:248:Roguelike.mfk
;       } else if (col == %11011111) {
.ai__00180.fi__00077:
; 
;line:246:Roguelike.mfk
;       if (col == %11111101){    //W
.ai__00180.fi__00079:
; 
;line:851:Roguelike.mfk
;       cli
    CLI
; 
;line:138:Roguelike.mfk
;           key=read_WASD_keys() //get_char()
    STX main$key
; 
;line
    TXA 
    BNE .lj80003
; 
;line:140:Roguelike.mfk
;           if (key != 0) {
    JMP .fi__00178
; 
;line
.lj80003:
; 
;line:150:Roguelike.mfk
;               if (key == 'a' ) {
    CMP #$41
    BNE .el__00175
; 
;line:151:Roguelike.mfk
;                   if(IGNORE_WALLS || (get_map_cell(map_row,map_col-1) != WALL_TILE)){    //map[map_row_to_index[map_row]+map_col-1]
    LDA map_row
    STA get_map_cell$row
    LDX map_col
    DEX
    STX get_map_cell$col
    JSR get_map_cell
    CMP #$82
    BEQ .fi__00156
; 
;line:152:Roguelike.mfk
;                       map_col-=1
    DEC map_col
; 
;line:153:Roguelike.mfk
;                       if (screen_col != 0) {
    LDA screen_col
    BEQ .fi__00155
; 
;line:154:Roguelike.mfk
;                           screen_col-=1
    DEC screen_col
; 
;line:153:Roguelike.mfk
;                       if (screen_col != 0) {
.fi__00155:
; 
;line:151:Roguelike.mfk
;                   if(IGNORE_WALLS || (get_map_cell(map_row,map_col-1) != WALL_TILE)){    //map[map_row_to_index[map_row]+map_col-1]
.fi__00156:
; 
;line:150:Roguelike.mfk
;               if (key == 'a' ) {
    JMP .fi__00176
.el__00175:
; 
;line:159:Roguelike.mfk
;               else if ( key== 'd' ) {
    LDA main$key
    CMP #$44
    BNE .el__00173
; 
;line:160:Roguelike.mfk
;                   if (map_col < (MAP_WIDTH-1)) {
    LDA map_col
    CMP #$63
    BCS .fi__00161
; 
;line:161:Roguelike.mfk
;                       if (IGNORE_WALLS || (get_map_cell(map_row,map_col+1) != WALL_TILE)) { //map[map_row_to_index[map_row]+map_col+1]
    LDA map_row
    STA get_map_cell$row
    LDX map_col
    INX
    STX get_map_cell$col
    JSR get_map_cell
    CMP #$82
    BEQ .fi__00159
; 
;line:162:Roguelike.mfk
;                           map_col+=1
    INC map_col
; 
;line:163:Roguelike.mfk
;                           if (screen_col <(SCREEN_WIDTH-1)) {
    LDA screen_col
    CMP #$27
    BCS .fi__00158
; 
;line:165:Roguelike.mfk
;                               screen_col+=1
    INC screen_col
; 
;line:163:Roguelike.mfk
;                           if (screen_col <(SCREEN_WIDTH-1)) {
.fi__00158:
; 
;line:161:Roguelike.mfk
;                       if (IGNORE_WALLS || (get_map_cell(map_row,map_col+1) != WALL_TILE)) { //map[map_row_to_index[map_row]+map_col+1]
.fi__00159:
; 
;line:160:Roguelike.mfk
;                   if (map_col < (MAP_WIDTH-1)) {
.fi__00161:
; 
;line:159:Roguelike.mfk
;               else if ( key== 'd' ) {
    JMP .fi__00174
.el__00173:
; 
;line:171:Roguelike.mfk
;               else if (key== 'w' ) {
    LDA main$key
    CMP #$57
    BNE .el__00171
; 
;line:172:Roguelike.mfk
;                   if (IGNORE_WALLS || (get_map_cell(map_row-1,map_col)!=WALL_TILE)) { //map[map_row_to_index[map_row-1]+map_col]
    LDX map_row
    DEX
    STX get_map_cell$row
    LDA map_col
    STA get_map_cell$col
    JSR get_map_cell
    CMP #$82
    BEQ .fi__00163
; 
;line:173:Roguelike.mfk
;                       map_row-=1
    DEC map_row
; 
;line:174:Roguelike.mfk
;                       if (screen_row != 0) {
    LDA screen_row
    BEQ .fi__00162
; 
;line:175:Roguelike.mfk
;                           screen_row-=1
    DEC screen_row
; 
;line:174:Roguelike.mfk
;                       if (screen_row != 0) {
.fi__00162:
; 
;line:172:Roguelike.mfk
;                   if (IGNORE_WALLS || (get_map_cell(map_row-1,map_col)!=WALL_TILE)) { //map[map_row_to_index[map_row-1]+map_col]
.fi__00163:
; 
;line:171:Roguelike.mfk
;               else if (key== 'w' ) {
    JMP .fi__00172
.el__00171:
; 
;line:180:Roguelike.mfk
;               else if (key== 's' ) {
    LDA main$key
    CMP #$53
    BNE .el__00169
; 
;line:181:Roguelike.mfk
;                   if (IGNORE_WALLS || (get_map_cell(map_row+1,map_col)!=WALL_TILE)){ //map[map_row_to_index[map_row+1]+map_col]
    LDX map_row
    INX
    STX get_map_cell$row
    LDA map_col
    STA get_map_cell$col
    JSR get_map_cell
    CMP #$82
    BEQ .fi__00166
; 
;line:182:Roguelike.mfk
;                       map_row+=1
    INC map_row
; 
;line:183:Roguelike.mfk
;                       if (screen_row<(SCREEN_HEIGHT-1)) {
    LDA screen_row
    CMP #$18
    BCS .fi__00165
; 
;line:184:Roguelike.mfk
;                           screen_row+=1
    INC screen_row
; 
;line:183:Roguelike.mfk
;                       if (screen_row<(SCREEN_HEIGHT-1)) {
.fi__00165:
; 
;line:181:Roguelike.mfk
;                   if (IGNORE_WALLS || (get_map_cell(map_row+1,map_col)!=WALL_TILE)){ //map[map_row_to_index[map_row+1]+map_col]
.fi__00166:
; 
;line:180:Roguelike.mfk
;               else if (key== 's' ) {
    JMP .fi__00170
.el__00169:
; 
;line:188:Roguelike.mfk
;               else if (key==3) {        //STOP key
    LDA main$key
    CMP #3
    BNE .fi__00168
; 
;line:189:Roguelike.mfk
;                   build_dungeon()
    JSR build_dungeon
; 
;line:190:Roguelike.mfk
;                   reset_player_position()
    JSR reset_player_position
; 
;line:188:Roguelike.mfk
;               else if (key==3) {        //STOP key
.fi__00168:
; 
;line:180:Roguelike.mfk
;               else if (key== 's' ) {
.fi__00170:
; 
;line:171:Roguelike.mfk
;               else if (key== 'w' ) {
.fi__00172:
; 
;line:159:Roguelike.mfk
;               else if ( key== 'd' ) {
.fi__00174:
; 
;line:150:Roguelike.mfk
;               if (key == 'a' ) {
.fi__00176:
; 
;line:197:Roguelike.mfk
;           jiffies=0
    LDA #0
    STA jiffies
    STA jiffies + 1
; 
;line:198:Roguelike.mfk
;           draw_screen(map_row,map_col)
    LDA map_row
    STA draw_screen$map_row
    LDA map_col
    STA draw_screen$map_col
    JSR draw_screen
; 
;line:199:Roguelike.mfk
;           draw_time=jiffies
    LDA jiffies
    STA main$draw_time
    LDA jiffies + 1
    STA main$draw_time + 1
; 
;line:201:Roguelike.mfk
;           putchar(key)
    LDA main$key
    JSR putchar
; 
;line:140:Roguelike.mfk
;           if (key != 0) {
.fi__00178:
; 
;line:120:Roguelike.mfk
;       while (running) {
    JMP .wh__00151
.ew__00154:
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $a01
calc_room_width:
calc_room_height:
; 
;line:366:Roguelike.mfk
;       return (rand()%%(MAX_ROOM_WIDTH-MIN_ROOM_WIDTH)) + MIN_ROOM_WIDTH
    JSR rand
    STX __reg
    CMP #$D0
    BCC .dv__00116
    SBC #$D0
.dv__00116:
    ROL __reg
    CMP #$68
    BCC .dv__00117
    SBC #$68
.dv__00117:
    CMP #$34
    BCC .dv__00118
    SBC #$34
.dv__00118:
    CMP #$1A
    BCC .dv__00119
    SBC #$1A
.dv__00119:
    CMP #$D
    BCC .dv__00120
    SBC #$D
.dv__00120:
    CLC
    ADC #2
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $a2a
handle_raster_interrupt:
; 
;line:737:Roguelike.mfk
;       jiffies+=1
    INC jiffies
    BNE .in__00001
    INC jiffies + 1
.in__00001:
; 
;line:738:Roguelike.mfk
;       vic_irq |= %00000001    //acknowledge raster interrupt
    LDA $D019
    ORA #1
    STA $D019
; 
;line:739:Roguelike.mfk
;       asm {
    JMP $EA31
; 
;line
 
* = $a3d
activate_charset:
; 
;line:124:c64_vic.mfk
;       vic_mem = (vic_mem & $F1) | $E
    LDA $D018
    AND #$F1
    ORA #$E
    STA $D018
; 
;line:61:c64_vic.mfk
;       vic_cr2 |= 0x10
    LDA $D016
    ORA #$10
    STA $D016
; 
;line:135:c64_vic.mfk
;       vic_bg_color0 = color
    LDA #0
    STA $D021
; 
;line:608:Roguelike.mfk
;       vic_bg_color1=brown
    LDA #9
    STA $D022
; 
;line:609:Roguelike.mfk
;       vic_bg_color2=dark_grey
    LDA #$B
    STA $D023
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $a5f
charout:
; 
;line:534:Roguelike.mfk
;       LDA char
    LDA charout$char
; 
;line:535:Roguelike.mfk
;       JSR $ffd2
    JSR $FFD2
; 
;line:536:Roguelike.mfk
;       rts
    RTS
; 
;line
 
* = $a66
__mod_u8u8u8u8:
; 
;line:24:zp_reg.mfk
;       ? LDA #0
    LDA #0
; 
;line:25:zp_reg.mfk
;       ? LDX #7
    LDX #7
; 
;line:26:zp_reg.mfk
;       ? CLC
    CLC
; 
;line:27:zp_reg.mfk
;   __divmod_u8u8u8u8_start:
__divmod_u8u8u8u8_start:
; 
;line:28:zp_reg.mfk
;       ? ROL __reg
    ROL __reg
; 
;line:29:zp_reg.mfk
;       ? ROL
    ROL
; 
;line:30:zp_reg.mfk
;       ? CMP __reg+1
    CMP __reg + 1
; 
;line:31:zp_reg.mfk
;       ? BCC __divmod_u8u8u8u8_skip
    BCC __divmod_u8u8u8u8_skip
; 
;line:32:zp_reg.mfk
;       ? SBC __reg+1
    SBC __reg + 1
; 
;line:33:zp_reg.mfk
;   __divmod_u8u8u8u8_skip:
__divmod_u8u8u8u8_skip:
; 
;line:34:zp_reg.mfk
;       ? DEX
    DEX
; 
;line:35:zp_reg.mfk
;       ? BPL __divmod_u8u8u8u8_start
    BPL __divmod_u8u8u8u8_start
; 
;line:36:zp_reg.mfk
;       ? ROL __reg
    ROL __reg
; 
;line:37:zp_reg.mfk
;       ? RTS
    RTS
; 
;line
 
* = $a7a
clear_screen:
; 
;line:520:Roguelike.mfk
;       for i,0,paralleluntil,1000 {
    LDA #$E8
    STA clear_screen$i
    LDA #3
    STA clear_screen$i + 1
.do__00052:
    LDA clear_screen$i
    BNE .de__00055
    DEC clear_screen$i + 1
.de__00055:
    DEC clear_screen$i
; 
;line:521:Roguelike.mfk
;           screen[i]=char
    LDY clear_screen$i
    LDA clear_screen$i + 1
    CLC
    ADC #4
    STA __reg + 1
    LDA #0
    STA __reg
    LDA clear_screen$char
    STA (__reg), Y
; 
;line:522:Roguelike.mfk
;           c64_color_ram[i]=color
    LDY clear_screen$i
    LDA clear_screen$i + 1
    CLC
    ADC #$D8
    STA __reg + 1
    LDA clear_screen$color
    STA (__reg), Y
; 
;line:520:Roguelike.mfk
;       for i,0,paralleluntil,1000 {
    LDA clear_screen$i
    ORA clear_screen$i + 1
    BNE .do__00052
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $aaf
build_dungeon:
; 
;line:301:Roguelike.mfk
;       fill_map_rect(0,0,MAP_HEIGHT,MAP_WIDTH,WALL_TILE)
    LDA #0
    STA fill_map_rect$start_row
    STA fill_map_rect$start_col
    LDA #$50
    STA fill_map_rect$height
    LDA #$64
    STA fill_map_rect$width
    LDA #$82
    STA fill_map_rect$byte_val
    JSR fill_map_rect
; 
;line:304:Roguelike.mfk
;       width=calc_room_width()
    JSR calc_room_width
    STA build_dungeon$width
; 
;line:305:Roguelike.mfk
;       height=calc_room_height()
    JSR calc_room_height
    STA build_dungeon$height
; 
;line:307:Roguelike.mfk
;       next_row=0
    LDA #0
    STA build_dungeon$next_row
    STA build_dungeon$next_row + 1
; 
;line:308:Roguelike.mfk
;       next_col=0
    STA build_dungeon$next_col
    STA build_dungeon$next_col + 1
; 
;line:310:Roguelike.mfk
;       for i,0,parallelto,NUM_ROOMS {
    STA build_dungeon$i
.wh__00125:
; 
;line:313:Roguelike.mfk
;           row=next_row.lo
    LDA build_dungeon$next_row
    STA build_dungeon$row
; 
;line:314:Roguelike.mfk
;           col=next_col.lo
    LDA build_dungeon$next_col
    STA build_dungeon$col
; 
;line:316:Roguelike.mfk
;           width=calc_room_width()
    JSR calc_room_width
    STA build_dungeon$width
; 
;line:317:Roguelike.mfk
;           if (col+width > MAP_WIDTH) {
    CLC
    ADC build_dungeon$col
    CMP #$65
    BCC .fi__00129
; 
;line:318:Roguelike.mfk
;               width=MAP_WIDTH-col
    LDA build_dungeon$col
    EOR #$FF
    ADC #0
    CLC
    ADC #$64
    STA build_dungeon$width
; 
;line:317:Roguelike.mfk
;           if (col+width > MAP_WIDTH) {
.fi__00129:
; 
;line:320:Roguelike.mfk
;           height=calc_room_height()
    JSR calc_room_height
    STA build_dungeon$height
; 
;line:321:Roguelike.mfk
;           if (row+height > MAP_HEIGHT) {
    CLC
    ADC build_dungeon$row
    CMP #$51
    BCC .fi__00130
; 
;line:322:Roguelike.mfk
;               height=MAP_HEIGHT-row
    LDA build_dungeon$row
    EOR #$FF
    ADC #0
    CLC
    ADC #$50
    STA build_dungeon$height
; 
;line:321:Roguelike.mfk
;           if (row+height > MAP_HEIGHT) {
.fi__00130:
; 
;line:326:Roguelike.mfk
;           r=row-(height/2)
    LDA build_dungeon$height
    LSR
    EOR #$FF
    SEC
    ADC #0
    CLC
    ADC build_dungeon$row
    STA build_dungeon$r
    LDA #0
    STA build_dungeon$r + 1
; 
;line:327:Roguelike.mfk
;           if (r<0) {
    LDA build_dungeon$r
    CMP #0
    LDA #0
    SBC #0
    BVC .co__00132
    LDA #$80
.co__00132:
    BPL .fi__00131
; 
;line:328:Roguelike.mfk
;               r=0
    LDA #0
    STA build_dungeon$r
    STA build_dungeon$r + 1
; 
;line:327:Roguelike.mfk
;           if (r<0) {
.fi__00131:
; 
;line:331:Roguelike.mfk
;           c=col-(width/2)
    LDA build_dungeon$width
    LSR
    EOR #$FF
    SEC
    ADC #0
    CLC
    ADC build_dungeon$col
    STA build_dungeon$c
    LDA #0
    STA build_dungeon$c + 1
; 
;line:332:Roguelike.mfk
;           if (c<0) {
    LDA build_dungeon$c
    CMP #0
    LDA #0
    SBC #0
    BVC .co__00134
    LDA #$80
.co__00134:
    BPL .fi__00133
; 
;line:333:Roguelike.mfk
;               c=0
    LDA #0
    STA build_dungeon$c
    STA build_dungeon$c + 1
; 
;line:332:Roguelike.mfk
;           if (c<0) {
.fi__00133:
; 
;line:336:Roguelike.mfk
;           fill_map_rect(row-(height/2),col-(width/2),height,width,EMPTY_TILE)
    LDA build_dungeon$height
    LSR
    EOR #$FF
    SEC
    ADC #0
    CLC
    ADC build_dungeon$row
    STA fill_map_rect$start_row
    LDA build_dungeon$width
    LSR
    EOR #$FF
    SEC
    ADC #0
    CLC
    ADC build_dungeon$col
    STA fill_map_rect$start_col
    LDA build_dungeon$height
    STA fill_map_rect$height
    LDA build_dungeon$width
    STA fill_map_rect$width
    LDA #$20
    STA fill_map_rect$byte_val
    JSR fill_map_rect
; 
;line:338:Roguelike.mfk
;           if (i==NUM_ROOMS) {
    LDA build_dungeon$i
    CMP NUM_ROOMS
    BNE .fi__00135
; 
;line:339:Roguelike.mfk
;               map[map_row_to_index[r.lo]+c.lo]=DOWN_STAIRS_TILE
    LDA build_dungeon$r
    ASL
    TAY
    LDA map_row_to_index.array, Y
    LDX map_row_to_index.array + 1, Y
    STX __reg + 1
    CLC
    ADC build_dungeon$c
    BCC .ah__00147
    INC __reg + 1
.ah__00147:
    TAY
    LDA __reg + 1
    CLC
    ADC #hi(map.array)
    STA __reg + 1
    LDA #lo(map.array)
    STA __reg
    LDA #$8D
    STA (__reg), Y
; 
;line:338:Roguelike.mfk
;           if (i==NUM_ROOMS) {
.fi__00135:
; 
;line:344:Roguelike.mfk
;           offset_width=(rand() %% width)
    JSR rand
    STA __reg
    LDA build_dungeon$width
    STA __reg + 1
    JSR __mod_u8u8u8u8
    STA build_dungeon$offset_width
    LDA #0
    STA build_dungeon$offset_width + 1
; 
;line:345:Roguelike.mfk
;           next_col=col+offset_width
    LDA build_dungeon$col
    CLC
    ADC build_dungeon$offset_width
    STA build_dungeon$next_col
    LDA #0
    ROL
    STA build_dungeon$next_col + 1
; 
;line:346:Roguelike.mfk
;           if (next_col<0) {
    LDA build_dungeon$next_col
    CMP #0
    LDA build_dungeon$next_col + 1
    SBC #0
    BVC .co__00137
    EOR #$80
.co__00137:
    BPL .fi__00136
; 
;line:347:Roguelike.mfk
;               next_col=0
    LDA #0
    STA build_dungeon$next_col
    STA build_dungeon$next_col + 1
; 
;line:346:Roguelike.mfk
;           if (next_col<0) {
.fi__00136:
; 
;line:349:Roguelike.mfk
;           if (next_col>MAP_WIDTH) {
    LDA #$64
    CMP build_dungeon$next_col
    LDA #0
    SBC build_dungeon$next_col + 1
    BVC .co__00139
    EOR #$80
.co__00139:
    BPL .fi__00138
; 
;line:350:Roguelike.mfk
;               next_col=MAP_WIDTH
    LDA #$64
    STA build_dungeon$next_col
    LDA #0
    STA build_dungeon$next_col + 1
; 
;line:349:Roguelike.mfk
;           if (next_col>MAP_WIDTH) {
.fi__00138:
; 
;line:353:Roguelike.mfk
;           offset_height=(rand() %% height)
    JSR rand
    STA __reg
    LDA build_dungeon$height
    STA __reg + 1
    JSR __mod_u8u8u8u8
    STA build_dungeon$offset_height
    LDA #0
    STA build_dungeon$offset_height + 1
; 
;line:354:Roguelike.mfk
;           next_row=row+offset_height
    LDA build_dungeon$row
    CLC
    ADC build_dungeon$offset_height
    STA build_dungeon$next_row
    LDA #0
    ROL
    STA build_dungeon$next_row + 1
; 
;line:355:Roguelike.mfk
;           if (next_row < 0) {
    LDA build_dungeon$next_row
    CMP #0
    LDA build_dungeon$next_row + 1
    SBC #0
    BVC .co__00141
    EOR #$80
.co__00141:
    BPL .fi__00140
; 
;line:356:Roguelike.mfk
;               next_row=0
    LDA #0
    STA build_dungeon$next_row
    STA build_dungeon$next_row + 1
; 
;line:355:Roguelike.mfk
;           if (next_row < 0) {
.fi__00140:
; 
;line:358:Roguelike.mfk
;           if (next_row>MAP_HEIGHT) {
    LDA #$50
    CMP build_dungeon$next_row
    LDA #0
    SBC build_dungeon$next_row + 1
    BVC .co__00143
    EOR #$80
.co__00143:
    BPL .fi__00142
; 
;line:359:Roguelike.mfk
;               next_row=MAP_HEIGHT
    LDA #$50
    STA build_dungeon$next_row
    LDA #0
    STA build_dungeon$next_row + 1
; 
;line:358:Roguelike.mfk
;           if (next_row>MAP_HEIGHT) {
.fi__00142:
; 
;line:310:Roguelike.mfk
;       for i,0,parallelto,NUM_ROOMS {
    LDA build_dungeon$i
    CMP NUM_ROOMS
    BEQ .ew__00128
    INC build_dungeon$i
    JMP .wh__00125
.ew__00128:
; 
;line:362:Roguelike.mfk
;       map[0]=UP_STAIRS_TILE
    LDA #$8C
    STA map.array
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $c72
fill_map_rect:
; 
;line:379:Roguelike.mfk
;       end_row=start_row+height
    LDA fill_map_rect$start_row
    CLC
    ADC fill_map_rect$height
    STA fill_map_rect$end_row
; 
;line:380:Roguelike.mfk
;       end_col=start_col+width
    LDA fill_map_rect$start_col
    CLC
    ADC fill_map_rect$width
    STA fill_map_rect$end_col
; 
;line:382:Roguelike.mfk
;       for row,start_row,parallelto,end_row {
    LDA fill_map_rect$start_row
    STA fill_map_rect$row
.wh__00056:
; 
;line:383:Roguelike.mfk
;           mi=map_row_to_index[row]
    LDA fill_map_rect$row
    ASL
    TAY
    LDA map_row_to_index.array, Y
    STA fill_map_rect$mi
    LDA map_row_to_index.array + 1, Y
    STA fill_map_rect$mi + 1
; 
;line:384:Roguelike.mfk
;           for col,start_col,parallelto,end_col {
    LDX fill_map_rect$start_col
.wh__00060:
; 
;line:385:Roguelike.mfk
;               map[mi+col]=byte_val
    LDA fill_map_rect$mi + 1
    STA __reg + 1
    CLC
    TXA
    ADC fill_map_rect$mi
    BCC .ah__00068
    INC __reg + 1
.ah__00068:
    TAY
    LDA __reg + 1
    CLC
    ADC #hi(map.array)
    STA __reg + 1
    LDA #lo(map.array)
    STA __reg
    LDA fill_map_rect$byte_val
    STA (__reg), Y
; 
;line:384:Roguelike.mfk
;           for col,start_col,parallelto,end_col {
    CPX fill_map_rect$end_col
    BEQ .ew__00063
    INX
    JMP .wh__00060
.ew__00063:
; 
;line:382:Roguelike.mfk
;       for row,start_row,parallelto,end_row {
    LDA fill_map_rect$row
    CMP fill_map_rect$end_row
    BEQ .ew__00059
    INC fill_map_rect$row
    JMP .wh__00056
.ew__00059:
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $cd7
draw_screen:
; 
;line:276:Roguelike.mfk
;       draw_map(signed16(map_row)-(signed16(SCREEN_HEIGHT)/2)+1,signed16(map_col)-(signed16(SCREEN_WIDTH)/2),0,0,SCREEN_WIDTH,SCREEN_HEIGHT)
    SEC
    LDA draw_screen$map_row
    SBC #$C
    STA __reg
    LDA #0
    SBC #0
    STA __reg + 1
    CLC
    LDA __reg
    ADC #1
    BCC .ah__00051
    INC __reg + 1
.ah__00051:
    STA draw_map$map_row
    LDA __reg + 1
    STA draw_map$map_row + 1
    LDA draw_screen$map_col
    CLC
    ADC #$EC
    STA draw_map$map_col
    LDA #$FF
    ADC #0
    STA draw_map$map_col + 1
    LDA #0
    STA draw_map$screen_row
    STA draw_map$screen_col
    LDA #$28
    STA draw_map$width
    LDA #$19
    STA draw_map$height
    JSR draw_map
; 
;line:277:Roguelike.mfk
;       set_sprite_loc(0,(SCREEN_WIDTH/2),(SCREEN_HEIGHT/2))
    LDA #$14
    STA set_sprite_loc$x
    LDA #0
    STA set_sprite_loc$sprite_num
    STA set_sprite_loc$x + 1
    LDA #$C
    STA set_sprite_loc$y
; 
;line
set_sprite_loc:
; 
;line:633:Roguelike.mfk
;       index=sprite_num*2
    LDA set_sprite_loc$sprite_num
    ASL
    TAY
; 
;line:638:Roguelike.mfk
;       real_x=(x*8)+24
    LDA set_sprite_loc$x
    ASL
    STA __reg
    LDA set_sprite_loc$x + 1
    ROL
    ASL __reg
    ROL
    ASL __reg
    ROL
    STA __reg + 1
    LDA __reg
    CLC
    ADC #$18
    STA set_sprite_loc$real_x
    LDA __reg + 1
    ADC #0
    STA set_sprite_loc$real_x + 1
; 
;line:639:Roguelike.mfk
;       real_y=((y+1)*8)+34
    LDA set_sprite_loc$y
    ASL
    ASL
    ASL
    CLC
    ADC #$2A
    TAX
; 
;line:641:Roguelike.mfk
;       vic_spr_coord[index]=lo(real_x)
    LDA set_sprite_loc$real_x
    STA $D000, Y
; 
;line:642:Roguelike.mfk
;       if (real_x>255) {
    LDA set_sprite_loc$real_x + 1
    BNE .cp__00050
    LDA #$FF
    CMP set_sprite_loc$real_x
    BCS .el__00048
.cp__00050:
; 
;line:643:Roguelike.mfk
;           vic_spr_hi_x=1//!=(2^sprite_num)
    LDA #1
; 
;line:642:Roguelike.mfk
;       if (real_x>255) {
    BNE .fi__00049
.el__00048:
; 
;line:646:Roguelike.mfk
;           vic_spr_hi_x=0//&=255-(2^sprite_num)
    LDA #0
; 
;line:642:Roguelike.mfk
;       if (real_x>255) {
.fi__00049:
; 
;line:643:Roguelike.mfk
;           vic_spr_hi_x=1//!=(2^sprite_num)
    STA $D010
; 
;line:648:Roguelike.mfk
;       vic_spr_coord[index+1]=real_y
    TXA
    STA $D001, Y
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $d79
start_raster_timer:
; 
;line:710:Roguelike.mfk
;       asm {
    SEI
; 
;line:713:Roguelike.mfk
;       interrupt_reg &=%01111111
    LDA $DC0D
    AND #$7F
    STA $DC0D
; 
;line:714:Roguelike.mfk
;       vic_cr1 &= %01111111
    LDA $D011
    AND #$7F
    STA $D011
; 
;line:715:Roguelike.mfk
;       vic_raster=0
    LDA #0
    STA $D012
; 
;line:716:Roguelike.mfk
;       jiffies=0
    STA jiffies
    STA jiffies + 1
; 
;line:717:Roguelike.mfk
;       int_service_ptr=handle_raster_interrupt.pointer
    LDA #lo(handle_raster_interrupt)
    STA $314
    LDA #hi(handle_raster_interrupt)
    STA $315
; 
;line:718:Roguelike.mfk
;       asm {
    CLI
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $da1
draw_map:
; 
;line:439:Roguelike.mfk
;       for row,0,until,height {
    LDA #0
    STA draw_map$row
.wh__00029:
    LDA draw_map$row
    CMP draw_map$height
; 
;line
    BNE .lj80000
; 
;line:439:Roguelike.mfk
;       for row,0,until,height {
    JMP .ew__00032
; 
;line
.lj80000:
; 
;line:441:Roguelike.mfk
;           mr=map_row+row
    LDA draw_map$map_row
    CLC
    ADC draw_map$row
    STA draw_map$mr
    LDA draw_map$map_row + 1
    ADC #0
    STA draw_map$mr + 1
; 
;line:442:Roguelike.mfk
;           sr=screen_row+row
    LDA draw_map$screen_row
    CLC
    ADC draw_map$row
    TAX
; 
;line:443:Roguelike.mfk
;           if (mr>=0) {
    LDA draw_map$mr
    CMP #0
    LDA draw_map$mr + 1
    SBC #0
    BVC .co__00034
    EOR #$80
.co__00034:
    BMI .fi__00033
; 
;line:444:Roguelike.mfk
;               mri=map_row_to_index[mr.lo]        //mr should always be <$100
    LDA draw_map$mr
    ASL
    TAY
    LDA map_row_to_index.array, Y
    STA draw_map$mri
    LDA map_row_to_index.array + 1, Y
    STA draw_map$mri + 1
; 
;line:443:Roguelike.mfk
;           if (mr>=0) {
.fi__00033:
; 
;line:446:Roguelike.mfk
;           si=screen_row_to_index[sr]
    TXA
    ASL
    TAY
    LDA screen_row_to_index.array, Y
    STA draw_map$si
    LDA screen_row_to_index.array + 1, Y
    STA draw_map$si + 1
; 
;line:449:Roguelike.mfk
;           for col,0,until,width {
    LDX #0
.wh__00035:
    CPX draw_map$width
; 
;line
    BNE .lj80001
; 
;line:449:Roguelike.mfk
;           for col,0,until,width {
    JMP .ew__00038
; 
;line
.lj80001:
; 
;line:450:Roguelike.mfk
;               screen_val=WALL_TILE
    LDA #$82
    STA draw_map$screen_val
; 
;line:452:Roguelike.mfk
;               if ((mr>=0) && (mr<MAP_HEIGHT)) {
    LDA draw_map$mr
    CMP #0
    LDA draw_map$mr + 1
    SBC #0
    BVC .co__00043
    EOR #$80
.co__00043:
    BMI .fi__00042
    LDA draw_map$mr
    CMP #$50
    LDA draw_map$mr + 1
    SBC #0
    BVC .co__00044
    EOR #$80
.co__00044:
    BPL .fi__00042
; 
;line:453:Roguelike.mfk
;                   mc=map_col+col
    TXA
    CLC
    ADC draw_map$map_col
    STA draw_map$mc
    LDA draw_map$map_col + 1
    ADC #0
    STA draw_map$mc + 1
; 
;line:454:Roguelike.mfk
;                   if ((mc>=0) && (mc < MAP_WIDTH)) {
    LDA draw_map$mc
    CMP #0
    LDA draw_map$mc + 1
    SBC #0
    BVC .co__00040
    EOR #$80
.co__00040:
    BMI .fi__00039
    LDA draw_map$mc
    CMP #$64
    LDA draw_map$mc + 1
    SBC #0
    BVC .co__00041
    EOR #$80
.co__00041:
    BPL .fi__00039
; 
;line:455:Roguelike.mfk
;                       screen_val=map[mri+map_col+col]
    CLC
    LDA draw_map$mri
    ADC draw_map$map_col
    STA __reg
    LDA draw_map$mri + 1
    ADC draw_map$map_col + 1
    STA __reg + 1
    CLC
    TXA
    ADC __reg
    BCC .ah__00045
    INC __reg + 1
.ah__00045:
    TAY
    LDA __reg + 1
    CLC
    ADC #hi(map.array)
    STA __reg + 1
    LDA #lo(map.array)
    STA __reg
    LDA (__reg), Y
    STA draw_map$screen_val
; 
;line:454:Roguelike.mfk
;                   if ((mc>=0) && (mc < MAP_WIDTH)) {
.fi__00039:
; 
;line:452:Roguelike.mfk
;               if ((mr>=0) && (mr<MAP_HEIGHT)) {
.fi__00042:
; 
;line:458:Roguelike.mfk
;               screen[si+screen_col+col]=screen_val
    LDA draw_map$si + 1
    STA __reg + 1
    CLC
    LDA draw_map$si
    ADC draw_map$screen_col
    STA __reg
    BCC .ah__00046
    INC __reg + 1
.ah__00046:
    CLC
    TXA
    ADC __reg
    BCC .ah__00047
    INC __reg + 1
.ah__00047:
    TAY
    LDA __reg + 1
    CLC
    ADC #4
    STA __reg + 1
    LDA #0
    STA __reg
    LDA draw_map$screen_val
    STA (__reg), Y
; 
;line:449:Roguelike.mfk
;           for col,0,until,width {
    INX
    JMP .wh__00035
.ew__00038:
; 
;line:439:Roguelike.mfk
;       for row,0,until,height {
    INC draw_map$row
    JMP .wh__00029
.ew__00032:
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $eb6
get_map_cell:
; 
;line:467:Roguelike.mfk
;       if ((row<MAP_HEIGHT) && (col < MAP_WIDTH)) {
    LDA get_map_cell$row
    CMP #$50
    BCS .el__00148
    LDA get_map_cell$col
    CMP #$64
    BCS .el__00148
; 
;line:468:Roguelike.mfk
;           map_val=map[map_row_to_index[row]+col]
    LDA get_map_cell$row
    ASL
    TAY
    LDA map_row_to_index.array, Y
    LDX map_row_to_index.array + 1, Y
    STX __reg + 1
    CLC
    ADC get_map_cell$col
    BCC .ah__00150
    INC __reg + 1
.ah__00150:
    TAY
    LDA __reg + 1
    CLC
    ADC #hi(map.array)
    STA __reg + 1
    LDA #lo(map.array)
    STA __reg
    LDA (__reg), Y
; 
;line:467:Roguelike.mfk
;       if ((row<MAP_HEIGHT) && (col < MAP_WIDTH)) {
    RTS
.el__00148:
; 
;line:471:Roguelike.mfk
;           map_val=WALL_TILE
    LDA #$82
; 
;line:467:Roguelike.mfk
;       if ((row<MAP_HEIGHT) && (col < MAP_WIDTH)) {
.fi__00149:
; 
;line:473:Roguelike.mfk
;       return map_val
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $eeb
putchar:
; 
;line:28:c64_kernal.mfk
;       JSR chrout
    JSR $FFD2
; 
;line:29:c64_kernal.mfk
;       LDA #0
    LDA #0
; 
;line:30:c64_kernal.mfk
;       STA $D4
    STA $D4
; 
;line:31:c64_kernal.mfk
;       ? RTS
    RTS
; 
;line
 
* = $ef3
reset_player_position:
; 
;line:222:Roguelike.mfk
;       screen_col=0
    LDA #0
    STA screen_col
; 
;line:223:Roguelike.mfk
;       screen_row=0
    STA screen_row
; 
;line:224:Roguelike.mfk
;       map_col=0
    STA map_col
; 
;line:225:Roguelike.mfk
;       map_row=0
    STA map_row
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $f01
putword:
; 
;line:40:stdio.mfk
;       digits = 0
    LDA #0
    STA putword$digits
; 
;line:42:stdio.mfk
;       for mask:[40000,4000,400,40,4] {
    LDA #$40
    STA putword$mask
    LDA #$9C
    STA putword$mask + 1
    JSR .fe__00114
    LDA #$A0
    STA putword$mask
    LDA #$F
    STA putword$mask + 1
    JSR .fe__00114
    LDA #$90
    STA putword$mask
    LDA #1
    STA putword$mask + 1
    JSR .fe__00114
    LDA #$28
    STA putword$mask
    LDA #0
    STA putword$mask + 1
    JSR .fe__00114
    LDA #4
    STA putword$mask
    LDA #0
    STA putword$mask + 1
    JSR .fe__00114
; 
;line:58:stdio.mfk
;       if digits == 0 {
    LDA putword$digits
    BNE .fi__00115
; 
;line:59:stdio.mfk
;           putchar('0')
    LDA #$30
    JMP putchar
; 
;line:58:stdio.mfk
;       if digits == 0 {
.fi__00115:
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line:42:stdio.mfk
;       for mask:[40000,4000,400,40,4] {
.fe__00114:
; 
;line:43:stdio.mfk
;           lastdigit = 0
    LDA #0
    STA putword$lastdigit
; 
;line:44:stdio.mfk
;           while w >= mask {
    BEQ .he__00103
.wh__00102:
; 
;line:45:stdio.mfk
;               w -= mask
    SEC
    LDA putword$w
    SBC putword$mask
    STA putword$w
    LDA putword$w + 1
    SBC putword$mask + 1
    STA putword$w + 1
; 
;line:46:stdio.mfk
;               lastdigit += 4
    LDA putword$lastdigit
    CLC
    ADC #4
    STA putword$lastdigit
; 
;line:44:stdio.mfk
;           while w >= mask {
.he__00103:
    LDA putword$w + 1
    CMP putword$mask + 1
    BCC .cp__00106
    BNE .wh__00102
    LDA putword$w
    CMP putword$mask
    BCS .wh__00102
.cp__00106:
; 
;line:48:stdio.mfk
;           mask >>= 2
    LSR putword$mask + 1
    ROR putword$mask
    LSR putword$mask + 1
    ROR putword$mask
; 
;line:49:stdio.mfk
;           while w >= mask {
    JMP .he__00108
.wh__00107:
; 
;line:50:stdio.mfk
;               w -= mask
    SEC
    LDA putword$w
    SBC putword$mask
    STA putword$w
    LDA putword$w + 1
    SBC putword$mask + 1
    STA putword$w + 1
; 
;line:51:stdio.mfk
;               lastdigit += 1
    INC putword$lastdigit
; 
;line:49:stdio.mfk
;           while w >= mask {
.he__00108:
    LDA putword$w + 1
    CMP putword$mask + 1
    BCC .cp__00111
    BNE .wh__00107
    LDA putword$w
    CMP putword$mask
    BCS .wh__00107
.cp__00111:
; 
;line:53:stdio.mfk
;           if digits != 0 || lastdigit != 0 {
    LDA putword$digits
    BNE .or__00113
    LDA putword$lastdigit
    BEQ .fi__00112
.or__00113:
; 
;line:54:stdio.mfk
;               putchar('0' + lastdigit)
    LDA putword$lastdigit
    CLC
    ADC #$30
    JSR putchar
; 
;line:55:stdio.mfk
;               digits += 1
    INC putword$digits
; 
;line:53:stdio.mfk
;           if digits != 0 || lastdigit != 0 {
.fi__00112:
; 
;line:42:stdio.mfk
;       for mask:[40000,4000,400,40,4] {
    RTS
; 
;line
 
* = $fc9
rand:
; 
;line:9:random_6502.mfk
;       ? ldx #8
    LDX #8
; 
;line:10:random_6502.mfk
;       ? lda rand_seed+0
    LDA rand_seed
; 
;line:11:random_6502.mfk
;   __rand_loop:
__rand_loop:
; 
;line:12:random_6502.mfk
;       asl
    ASL
; 
;line:13:random_6502.mfk
;       ? rol rand_seed+1
    ROL rand_seed + 1
; 
;line:14:random_6502.mfk
;       bcc __no_eor
    BCC __no_eor
; 
;line:15:random_6502.mfk
;       eor #$2D
    EOR #$2D
; 
;line:16:random_6502.mfk
;   __no_eor:
__no_eor:
; 
;line:17:random_6502.mfk
;       dex
    DEX
; 
;line:18:random_6502.mfk
;       bne __rand_loop
    BNE __rand_loop
; 
;line:19:random_6502.mfk
;       ? sta rand_seed+0
    STA rand_seed
; 
;line:20:random_6502.mfk
;       ? rts
    RTS
; 
;line
 
* = $fdd
putstrz:
; 
;line:28:stdio.mfk
;       index = 0
    LDA #0
    STA putstrz$index
; 
;line:29:stdio.mfk
;       while str[index] != nullchar {
    BEQ .he__00122
.wh__00121:
; 
;line:30:stdio.mfk
;           putchar(str[index])
    LDY putstrz$index
    LDA (putstrz$str), Y
    JSR putchar
; 
;line:31:stdio.mfk
;           index += 1
    INC putstrz$index
; 
;line:29:stdio.mfk
;       while str[index] != nullchar {
.he__00122:
    LDY putstrz$index
    LDA (putstrz$str), Y
    BNE .wh__00121
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
 
* = $ff7
__mul_u16u8u16:
; 
;line:49:zp_reg.mfk
;       ? LDA #0
    LDA #0
; 
;line:50:zp_reg.mfk
;       ? TAX
    TAX
; 
;line:51:zp_reg.mfk
;       ? JMP __mul_u16u8u16_start
    BEQ __mul_u16u8u16_start
; 
;line:52:zp_reg.mfk
;   __mul_u16u8u16_add:
__mul_u16u8u16_add:
; 
;line:53:zp_reg.mfk
;       ? CLC
    CLC
; 
;line:54:zp_reg.mfk
;       ? ADC __reg
    ADC __reg
; 
;line:55:zp_reg.mfk
;       ? TAY
    TAY
; 
;line:56:zp_reg.mfk
;       ? TXA
    TXA
; 
;line:57:zp_reg.mfk
;       ? ADC __reg+1
    ADC __reg + 1
; 
;line:58:zp_reg.mfk
;       ? TAX
    TAX
; 
;line:59:zp_reg.mfk
;       ? TYA
    TYA
; 
;line:60:zp_reg.mfk
;   __mul_u16u8u16_loop:
__mul_u16u8u16_loop:
; 
;line:61:zp_reg.mfk
;       ? ASL __reg
    ASL __reg
; 
;line:62:zp_reg.mfk
;       ? ROL __reg+1
    ROL __reg + 1
; 
;line:63:zp_reg.mfk
;   __mul_u16u8u16_start:
__mul_u16u8u16_start:
; 
;line:64:zp_reg.mfk
;       ? LSR __reg+2
    LSR __reg + 2
; 
;line:65:zp_reg.mfk
;       ? BCS __mul_u16u8u16_add
    BCS __mul_u16u8u16_add
; 
;line:66:zp_reg.mfk
;       ? BNE __mul_u16u8u16_loop
    BNE __mul_u16u8u16_loop
; 
;line:67:zp_reg.mfk
;       ? RTS
    RTS
; 
;line
 
* = $1010
activate_sprites:
; 
;line:618:Roguelike.mfk
;       SPRITE0_PTR=$D8 //sprite 0 at $3600
    LDA #$D8
    STA $7F8
; 
;line:619:Roguelike.mfk
;       vic_spr0_color=blue
    LDA #6
    STA $D027
; 
;line:620:Roguelike.mfk
;       vic_spr_color1=red
    LDA #2
    STA $D025
; 
;line:621:Roguelike.mfk
;       vic_spr_color2=dark_grey
    LDA #$B
    STA $D026
; 
;line:623:Roguelike.mfk
;       vic_spr_mcolor=%11111111    //all sprites are multicolor
    LDA #$FF
    STA $D01C
; 
;line:622:Roguelike.mfk
;       vic_spr_ena=%00000001
    LDA #1
    STA $D015
; 
;line:624:Roguelike.mfk
;       set_sprite_loc(1,0,0)
    STA set_sprite_loc$sprite_num
    LDA #0
    STA set_sprite_loc$x
    STA set_sprite_loc$x + 1
    STA set_sprite_loc$y
    JMP set_sprite_loc
; 
;line
 
* = $103d
set_screen_loc:
; 
;line:527:Roguelike.mfk
;       TAY
    TAY
; 
;line:528:Roguelike.mfk
;       CLC
    CLC
; 
;line:529:Roguelike.mfk
;       JSR $fff0
    JSR $FFF0
; 
;line:530:Roguelike.mfk
;       RTS
    RTS
; 
;line
 
* = $1043
build_arrays:
; 
;line:483:Roguelike.mfk
;       for i,0,paralleluntil,MAP_HEIGHT {
    LDA #$50
    STA build_arrays$i
.do__00002:
    DEC build_arrays$i
; 
;line:484:Roguelike.mfk
;           map_row_to_index[i]=word(MAP_WIDTH)*i
    LDA #$64
    STA __reg
    LDA #0
    STA __reg + 1
    LDA build_arrays$i
    STA __reg + 2
    JSR __mul_u16u8u16
    PHA
    LDA build_arrays$i
    ASL
    TAY
    PLA
    STA map_row_to_index.array, Y
    TXA
    STA map_row_to_index.array + 1, Y
; 
;line:483:Roguelike.mfk
;       for i,0,paralleluntil,MAP_HEIGHT {
    LDA build_arrays$i
    BNE .do__00002
; 
;line:486:Roguelike.mfk
;       for i,0,paralleluntil,SCREEN_HEIGHT {
    LDA #$19
    STA build_arrays$i
.do__00005:
    DEC build_arrays$i
; 
;line:487:Roguelike.mfk
;           screen_row_to_index[i]=word(SCREEN_WIDTH)*i
    LDA #$28
    STA __reg
    LDA #0
    STA __reg + 1
    LDA build_arrays$i
    STA __reg + 2
    JSR __mul_u16u8u16
    PHA
    LDA build_arrays$i
    ASL
    TAY
    PLA
    STA screen_row_to_index.array, Y
    TXA
    STA screen_row_to_index.array + 1, Y
; 
;line:486:Roguelike.mfk
;       for i,0,paralleluntil,SCREEN_HEIGHT {
    LDA build_arrays$i
    BNE .do__00005
    ; DISCARD_AF
    ; DISCARD_XF
    ; DISCARD_YF
    RTS
; 
;line
* = $109a
textliteral$202c593d00.array:
    ; " ,y="z
    !byte $20, $2C, $59, $3D, 0
* = $109f
textliteral$4d41503a583d00.array:
    ; "map:x="z
    !byte $4D, $41, $50, $3A, $58, $3D, 0
* = $10a6
textliteral$204b45592857415344293d00.array:
    ; " key(wasd)="z
    !byte $20, $4B, $45, $59, $28, $57, $41, $53, $44, $29, $3D, 0
* = $10b2
textliteral$20445241572054494d453d00.array:
    ; " draw time="z
    !byte $20, $44, $52, $41, $57, $20, $54, $49, $4D, $45, $3D, 0
* = $10be
NUM_ROOMS:
    !byte $28
.ah__00045                     = $0E6F
.ah__00046                     = $0E92
.ah__00047                     = $0E9A
.ah__00051                     = $0CEE
.ah__00068                     = $0CAE
.ah__00147                     = $0BB5
.ah__00150                     = $0ED9
.ai__00179.wh__00014           = $0822
.ai__00179.wh__00019           = $082F
.ai__00180.el__00072           = $090B
.ai__00180.el__00074           = $08FB
.ai__00180.el__00076           = $08F3
.ai__00180.el__00078           = $08EB
.ai__00180.fi__00071           = $0919
.ai__00180.fi__00073           = $0919
.ai__00180.fi__00075           = $0919
.ai__00180.fi__00077           = $0919
.ai__00180.fi__00079           = $0919
.co__00034                     = $0DD9
.co__00040                     = $0E46
.co__00041                     = $0E56
.co__00043                     = $0E16
.co__00044                     = $0E26
.co__00132                     = $0B39
.co__00134                     = $0B61
.co__00137                     = $0BF3
.co__00139                     = $0C0B
.co__00141                     = $0C42
.co__00143                     = $0C56
.cp__00050                     = $0D6B
.cp__00106                     = $0F81
.cp__00111                     = $0FB2
.de__00055                     = $0A88
.do__00002                     = $1048
.do__00005                     = $1073
.do__00052                     = $0A82
.dv__00116                     = $0A0C
.dv__00117                     = $0A14
.dv__00118                     = $0A1A
.dv__00119                     = $0A20
.dv__00120                     = $0A26
.el__00048                     = $0D6F
.el__00148                     = $0EE8
.el__00169                     = $09C8
.el__00171                     = $099E
.el__00173                     = $0976
.el__00175                     = $0947
.ew__00032                     = $0EB5
.ew__00038                     = $0EAF
.ew__00059                     = $0CD6
.ew__00063                     = $0CC8
.ew__00128                     = $0C6C
.ew__00154                     = $0A00
.fe__00114                     = $0F52
.fi__00033                     = $0DEA
.fi__00039                     = $0E80
.fi__00042                     = $0E80
.fi__00049                     = $0D71
.fi__00112                     = $0FC8
.fi__00115                     = $0F51
.fi__00129                     = $0B02
.fi__00130                     = $0B1B
.fi__00131                     = $0B41
.fi__00133                     = $0B6B
.fi__00135                     = $0BC5
.fi__00136                     = $0BFD
.fi__00138                     = $0C17
.fi__00140                     = $0C4A
.fi__00142                     = $0C60
.fi__00149                     = $0EEA
.fi__00155                     = $0944
.fi__00156                     = $0944
.fi__00158                     = $0973
.fi__00159                     = $0973
.fi__00161                     = $0973
.fi__00162                     = $099B
.fi__00163                     = $099B
.fi__00165                     = $09C5
.fi__00166                     = $09C5
.fi__00168                     = $09D5
.fi__00170                     = $09D5
.fi__00172                     = $09D5
.fi__00174                     = $09D5
.fi__00176                     = $09D5
.fi__00178                     = $09FD
.he__00103                     = $0F71
.he__00108                     = $0FA2
.he__00122                     = $0FEF
.in__00001                     = $0A32
.lj80000                       = $0DB1
.lj80001                       = $0E03
.lj80002                       = $0881
.lj80003                       = $0923
.or__00113                     = $0FBC
.wh__00029                     = $0DA6
.wh__00035                     = $0DFB
.wh__00056                     = $0C8C
.wh__00060                     = $0CA0
.wh__00102                     = $0F59
.wh__00107                     = $0F90
.wh__00121                     = $0FE4
.wh__00125                     = $0AE1
.wh__00151                     = $0879
NUM_ROOMS                      = $10BE
SPRITE0_PTR                    = $07F8
__divmod_u8u8u8u8_skip         = $0A74
__divmod_u8u8u8u8_start        = $0A6B
__heap_start                   = $30EF
__mod_u8u8u8u8                 = $0A66
__mul_u16u8u16                 = $0FF7
__mul_u16u8u16_add             = $0FFC
__mul_u16u8u16_loop            = $1005
__mul_u16u8u16_start           = $1009
__no_eor                       = $0FD6
__rand_loop                    = $0FCE
__reg                          = $00FB
__rwdata_end                   = $10BF
__rwdata_start                 = $10BE
__zeropage_end                 = $00FF
__zeropage_first               = $003D
__zeropage_last                = $00FE
__zeropage_usage               = $00C2
_basic_loader.array            = $0801
_basic_loader.first            = $0801
activate_charset               = $0A3D
activate_sprites               = $1010
build_arrays                   = $1043
build_arrays$i                 = $10C3
build_dungeon                  = $0AAF
build_dungeon$c                = $10BF
build_dungeon$col              = $00F9
build_dungeon$height           = $003D
build_dungeon$i                = $00FA
build_dungeon$next_col         = $10C1
build_dungeon$next_row         = $00F7
build_dungeon$offset_height    = $0043
build_dungeon$offset_width     = $009E
build_dungeon$r                = $009B
build_dungeon$row              = $10C3
build_dungeon$width            = $003E
c64_color_ram.array            = $D800
c64_color_ram.first            = $D800
calc_room_height               = $0A01
calc_room_width                = $0A01
charout                        = $0A5F
charout$char                   = $0047
charset.array                  = $3800
charset.first                  = $3800
cia1_ddra                      = $DC02
cia1_ddrb                      = $DC03
cia1_pra                       = $DC00
cia1_prb                       = $DC01
cia2_ddra                      = $DD02
cia2_ddrb                      = $DD03
cia2_pra                       = $DD00
cia2_prb                       = $DD01
clear_screen                   = $0A7A
clear_screen$char              = $004C
clear_screen$color             = $004B
clear_screen$i                 = $0043
cpu6510_ddr                    = $0000
cpu6510_port                   = $0001
draw_map                       = $0DA1
draw_map$height                = $10CD
draw_map$map_col               = $10BF
draw_map$map_row               = $10CA
draw_map$mc                    = $1102
draw_map$mr                    = $1100
draw_map$mri                   = $0043
draw_map$row                   = $10C7
draw_map$screen_col            = $10C8
draw_map$screen_row            = $10C5
draw_map$screen_val            = $10C6
draw_map$si                    = $10C1
draw_map$width                 = $10C4
draw_screen                    = $0CD7
draw_screen$map_col            = $10CC
draw_screen$map_row            = $10C3
fill_map_rect                  = $0C72
fill_map_rect$byte_val         = $10C7
fill_map_rect$end_col          = $10CC
fill_map_rect$end_row          = $10C5
fill_map_rect$height           = $10C8
fill_map_rect$mi               = $10CA
fill_map_rect$row              = $10CD
fill_map_rect$start_col        = $10C4
fill_map_rect$start_row        = $10C6
fill_map_rect$width            = $10C9
get_map_cell                   = $0EB6
get_map_cell$col               = $10CC
get_map_cell$row               = $10C3
handle_raster_interrupt        = $0A2A
int_service_ptr                = $0314
interrupt_reg                  = $DC0D
irq_pointer                    = $0314
irq_pointer.hi                 = $0315
irq_pointer.lo                 = $0314
irq_routine_addr               = $FFFE
irq_routine_addr.hi            = $FFFF
irq_routine_addr.lo            = $FFFE
jiffies                        = $11AD
main                           = $080D
main$draw_time                 = $11A9
main$key                       = $11A7
main$running                   = $11A8
map.array                      = $11AF
map_col                        = $0048
map_row                        = $11AC
map_row_to_index.array         = $1107
nmi_routine_addr               = $FFFA
nmi_routine_addr.hi            = $FFFB
nmi_routine_addr.lo            = $FFFA
old_irq                        = $EA31
old_irq.hi                     = $EA32
old_irq.lo                     = $EA31
putchar                        = $0EEB
putstrz                        = $0FDD
putstrz$index                  = $10CC
putstrz$str                    = $0043
putword                        = $0F01
putword$digits                 = $10CC
putword$lastdigit              = $10C3
putword$mask                   = $1102
putword$w                      = $0043
rand                           = $0FC9
rand_seed                      = $1105
read_WASD_keys$col             = $0046
read_WASD_keys$key             = $0045
reset_player_position          = $0EF3
reset_routine_addr             = $FFFC
reset_routine_addr.hi          = $FFFD
reset_routine_addr.lo          = $FFFC
screen.array                   = $0400
screen.first                   = $0400
screen_col                     = $1104
screen_row                     = $11AB
screen_row_to_index.array      = $10CE
segment.default.bank           = $0000
segment.default.end            = $CFFF
segment.default.heapstart      = $30EF
segment.default.length         = $BF41
segment.default.start          = $10BF
set_screen_loc                 = $103D
set_sprite_loc                 = $0D2B
set_sprite_loc$real_x          = $10BF
set_sprite_loc$sprite_num      = $10C8
set_sprite_loc$x               = $0043
set_sprite_loc$y               = $10C6
sid_filt_cr                    = $D417
sid_filt_cutoff                = $D415
sid_filt_cutoff.hi             = $D416
sid_filt_cutoff.lo             = $D415
sid_filt_mode                  = $D418
sid_paddle_x                   = $D419
sid_paddle_y                   = $D41A
sid_v1_ad                      = $D405
sid_v1_cr                      = $D404
sid_v1_freq                    = $D400
sid_v1_freq.hi                 = $D401
sid_v1_freq.lo                 = $D400
sid_v1_pulse                   = $D402
sid_v1_pulse.hi                = $D403
sid_v1_pulse.lo                = $D402
sid_v1_sr                      = $D409
sid_v2_ad                      = $D40C
sid_v2_cr                      = $D40B
sid_v2_freq                    = $D407
sid_v2_freq.hi                 = $D408
sid_v2_freq.lo                 = $D407
sid_v2_pulse                   = $D409
sid_v2_pulse.hi                = $D40A
sid_v2_pulse.lo                = $D409
sid_v2_sr                      = $D40D
sid_v3_ad                      = $D413
sid_v3_adsr_out                = $D41C
sid_v3_cr                      = $D412
sid_v3_freq                    = $D40E
sid_v3_freq.hi                 = $D40F
sid_v3_freq.lo                 = $D40E
sid_v3_osc_out                 = $D41B
sid_v3_pulse                   = $D410
sid_v3_pulse.hi                = $D411
sid_v3_pulse.lo                = $D410
sid_v3_sr                      = $D414
sprite.array                   = $3600
sprite.first                   = $3600
start_raster_timer             = $0D79
textliteral$202c593d00.array   = $109A
textliteral$20445241572054494d453d00.array = $10B2
textliteral$204b45592857415344293d00.array = $10A6
textliteral$4d41503a583d00.array = $109F
timer_a_control                = $DC0E
timer_a_control.hi             = $DC0F
timer_a_control.lo             = $DC0E
timer_a_value                  = $DC04
timer_a_value.hi               = $DC05
timer_a_value.lo               = $DC04
timer_b_control                = $DC0F
timer_b_control.hi             = $DC10
timer_b_control.lo             = $DC0F
timer_b_value                  = $DC06
timer_b_value.hi               = $DC07
timer_b_value.lo               = $DC06
tod_clock_hours                = $DC0B
tod_clock_minutes              = $DC0A
tod_clock_seconds              = $DC09
tod_clock_tenth_secs           = $DC08
vic_bg_color0                  = $D021
vic_bg_color1                  = $D022
vic_bg_color2                  = $D023
vic_bg_color3                  = $D024
vic_border                     = $D020
vic_cr1                        = $D011
vic_cr2                        = $D016
vic_irq                        = $D019
vic_irq_ena                    = $D01A
vic_lp_x                       = $D013
vic_lp_y                       = $D014
vic_mem                        = $D018
vic_raster                     = $D012
vic_spr0_color                 = $D027
vic_spr0_x                     = $D000
vic_spr0_y                     = $D001
vic_spr1_color                 = $D028
vic_spr1_x                     = $D002
vic_spr1_y                     = $D003
vic_spr2_color                 = $D029
vic_spr2_x                     = $D004
vic_spr2_y                     = $D005
vic_spr3_color                 = $D02A
vic_spr3_x                     = $D006
vic_spr3_y                     = $D007
vic_spr4_color                 = $D02B
vic_spr4_x                     = $D008
vic_spr4_y                     = $D009
vic_spr5_color                 = $D02C
vic_spr5_x                     = $D00A
vic_spr5_y                     = $D00B
vic_spr6_color                 = $D02D
vic_spr6_x                     = $D00C
vic_spr6_y                     = $D00D
vic_spr7_color                 = $D02E
vic_spr7_x                     = $D00E
vic_spr7_y                     = $D00F
vic_spr_color.array            = $D027
vic_spr_color.first            = $D027
vic_spr_color1                 = $D025
vic_spr_color2                 = $D026
vic_spr_coord.array            = $D000
vic_spr_coord.first            = $D000
vic_spr_dp                     = $D01B
vic_spr_ena                    = $D015
vic_spr_exp_x                  = $D01D
vic_spr_exp_y                  = $D017
vic_spr_hi_x                   = $D010
vic_spr_mcolor                 = $D01C
vic_spr_sd_col                 = $D01F
vic_spr_ss_col                 = $D01E
    ; $0000 = cpu6510_ddr
    ; $0000 = segment.default.bank
    ; $0001 = cpu6510_port
    ; $003D = __zeropage_first
    ; $003D = build_dungeon$height
    ; $003E = build_dungeon$width
    ; $0043 = build_dungeon$offset_height
    ; $0043 = clear_screen$i
    ; $0043 = draw_map$mri
    ; $0043 = putstrz$str
    ; $0043 = putword$w
    ; $0043 = set_sprite_loc$x
    ; $0045 = read_WASD_keys$key
    ; $0046 = read_WASD_keys$col
    ; $0047 = charout$char
    ; $0048 = map_col
    ; $004B = clear_screen$color
    ; $004C = clear_screen$char
    ; $009B = build_dungeon$r
    ; $009E = build_dungeon$offset_width
    ; $00C2 = __zeropage_usage
    ; $00F7 = build_dungeon$next_row
    ; $00F9 = build_dungeon$col
    ; $00FA = build_dungeon$i
    ; $00FB = __reg
    ; $00FE = __zeropage_last
    ; $00FF = __zeropage_end
    ; $0314 = int_service_ptr
    ; $0314 = irq_pointer
    ; $0314 = irq_pointer.lo
    ; $0315 = irq_pointer.hi
    ; $0400 = screen.array
    ; $0400 = screen.first
    ; $07F8 = SPRITE0_PTR
    ; $0801 = _basic_loader.array
    ; $0801 = _basic_loader.first
    ; $080D = main
    ; $0822 = .ai__00179.wh__00014
    ; $082F = .ai__00179.wh__00019
    ; $0879 = .wh__00151
    ; $0881 = .lj80002
    ; $08EB = .ai__00180.el__00078
    ; $08F3 = .ai__00180.el__00076
    ; $08FB = .ai__00180.el__00074
    ; $090B = .ai__00180.el__00072
    ; $0919 = .ai__00180.fi__00071
    ; $0919 = .ai__00180.fi__00073
    ; $0919 = .ai__00180.fi__00075
    ; $0919 = .ai__00180.fi__00077
    ; $0919 = .ai__00180.fi__00079
    ; $0923 = .lj80003
    ; $0944 = .fi__00155
    ; $0944 = .fi__00156
    ; $0947 = .el__00175
    ; $0973 = .fi__00158
    ; $0973 = .fi__00159
    ; $0973 = .fi__00161
    ; $0976 = .el__00173
    ; $099B = .fi__00162
    ; $099B = .fi__00163
    ; $099E = .el__00171
    ; $09C5 = .fi__00165
    ; $09C5 = .fi__00166
    ; $09C8 = .el__00169
    ; $09D5 = .fi__00168
    ; $09D5 = .fi__00170
    ; $09D5 = .fi__00172
    ; $09D5 = .fi__00174
    ; $09D5 = .fi__00176
    ; $09FD = .fi__00178
    ; $0A00 = .ew__00154
    ; $0A01 = calc_room_height
    ; $0A01 = calc_room_width
    ; $0A0C = .dv__00116
    ; $0A14 = .dv__00117
    ; $0A1A = .dv__00118
    ; $0A20 = .dv__00119
    ; $0A26 = .dv__00120
    ; $0A2A = handle_raster_interrupt
    ; $0A32 = .in__00001
    ; $0A3D = activate_charset
    ; $0A5F = charout
    ; $0A66 = __mod_u8u8u8u8
    ; $0A6B = __divmod_u8u8u8u8_start
    ; $0A74 = __divmod_u8u8u8u8_skip
    ; $0A7A = clear_screen
    ; $0A82 = .do__00052
    ; $0A88 = .de__00055
    ; $0AAF = build_dungeon
    ; $0AE1 = .wh__00125
    ; $0B02 = .fi__00129
    ; $0B1B = .fi__00130
    ; $0B39 = .co__00132
    ; $0B41 = .fi__00131
    ; $0B61 = .co__00134
    ; $0B6B = .fi__00133
    ; $0BB5 = .ah__00147
    ; $0BC5 = .fi__00135
    ; $0BF3 = .co__00137
    ; $0BFD = .fi__00136
    ; $0C0B = .co__00139
    ; $0C17 = .fi__00138
    ; $0C42 = .co__00141
    ; $0C4A = .fi__00140
    ; $0C56 = .co__00143
    ; $0C60 = .fi__00142
    ; $0C6C = .ew__00128
    ; $0C72 = fill_map_rect
    ; $0C8C = .wh__00056
    ; $0CA0 = .wh__00060
    ; $0CAE = .ah__00068
    ; $0CC8 = .ew__00063
    ; $0CD6 = .ew__00059
    ; $0CD7 = draw_screen
    ; $0CEE = .ah__00051
    ; $0D2B = set_sprite_loc
    ; $0D6B = .cp__00050
    ; $0D6F = .el__00048
    ; $0D71 = .fi__00049
    ; $0D79 = start_raster_timer
    ; $0DA1 = draw_map
    ; $0DA6 = .wh__00029
    ; $0DB1 = .lj80000
    ; $0DD9 = .co__00034
    ; $0DEA = .fi__00033
    ; $0DFB = .wh__00035
    ; $0E03 = .lj80001
    ; $0E16 = .co__00043
    ; $0E26 = .co__00044
    ; $0E46 = .co__00040
    ; $0E56 = .co__00041
    ; $0E6F = .ah__00045
    ; $0E80 = .fi__00039
    ; $0E80 = .fi__00042
    ; $0E92 = .ah__00046
    ; $0E9A = .ah__00047
    ; $0EAF = .ew__00038
    ; $0EB5 = .ew__00032
    ; $0EB6 = get_map_cell
    ; $0ED9 = .ah__00150
    ; $0EE8 = .el__00148
    ; $0EEA = .fi__00149
    ; $0EEB = putchar
    ; $0EF3 = reset_player_position
    ; $0F01 = putword
    ; $0F51 = .fi__00115
    ; $0F52 = .fe__00114
    ; $0F59 = .wh__00102
    ; $0F71 = .he__00103
    ; $0F81 = .cp__00106
    ; $0F90 = .wh__00107
    ; $0FA2 = .he__00108
    ; $0FB2 = .cp__00111
    ; $0FBC = .or__00113
    ; $0FC8 = .fi__00112
    ; $0FC9 = rand
    ; $0FCE = __rand_loop
    ; $0FD6 = __no_eor
    ; $0FDD = putstrz
    ; $0FE4 = .wh__00121
    ; $0FEF = .he__00122
    ; $0FF7 = __mul_u16u8u16
    ; $0FFC = __mul_u16u8u16_add
    ; $1005 = __mul_u16u8u16_loop
    ; $1009 = __mul_u16u8u16_start
    ; $1010 = activate_sprites
    ; $103D = set_screen_loc
    ; $1043 = build_arrays
    ; $1048 = .do__00002
    ; $1073 = .do__00005
    ; $109A = textliteral$202c593d00.array
    ; $109F = textliteral$4d41503a583d00.array
    ; $10A6 = textliteral$204b45592857415344293d00.array
    ; $10B2 = textliteral$20445241572054494d453d00.array
    ; $10BE = NUM_ROOMS
    ; $10BE = __rwdata_start
    ; $10BF = __rwdata_end
    ; $10BF = build_dungeon$c
    ; $10BF = draw_map$map_col
    ; $10BF = segment.default.start
    ; $10BF = set_sprite_loc$real_x
    ; $10C1 = build_dungeon$next_col
    ; $10C1 = draw_map$si
    ; $10C3 = build_arrays$i
    ; $10C3 = build_dungeon$row
    ; $10C3 = draw_screen$map_row
    ; $10C3 = get_map_cell$row
    ; $10C3 = putword$lastdigit
    ; $10C4 = draw_map$width
    ; $10C4 = fill_map_rect$start_col
    ; $10C5 = draw_map$screen_row
    ; $10C5 = fill_map_rect$end_row
    ; $10C6 = draw_map$screen_val
    ; $10C6 = fill_map_rect$start_row
    ; $10C6 = set_sprite_loc$y
    ; $10C7 = draw_map$row
    ; $10C7 = fill_map_rect$byte_val
    ; $10C8 = draw_map$screen_col
    ; $10C8 = fill_map_rect$height
    ; $10C8 = set_sprite_loc$sprite_num
    ; $10C9 = fill_map_rect$width
    ; $10CA = draw_map$map_row
    ; $10CA = fill_map_rect$mi
    ; $10CC = draw_screen$map_col
    ; $10CC = fill_map_rect$end_col
    ; $10CC = get_map_cell$col
    ; $10CC = putstrz$index
    ; $10CC = putword$digits
    ; $10CD = draw_map$height
    ; $10CD = fill_map_rect$row
    ; $10CE = screen_row_to_index.array
    ; $1100 = draw_map$mr
    ; $1102 = draw_map$mc
    ; $1102 = putword$mask
    ; $1104 = screen_col
    ; $1105 = rand_seed
    ; $1107 = map_row_to_index.array
    ; $11A7 = main$key
    ; $11A8 = main$running
    ; $11A9 = main$draw_time
    ; $11AB = screen_row
    ; $11AC = map_row
    ; $11AD = jiffies
    ; $11AF = map.array
    ; $30EF = __heap_start
    ; $30EF = segment.default.heapstart
    ; $3600 = sprite.array
    ; $3600 = sprite.first
    ; $3800 = charset.array
    ; $3800 = charset.first
    ; $BF41 = segment.default.length
    ; $CFFF = segment.default.end
    ; $D000 = vic_spr0_x
    ; $D000 = vic_spr_coord.array
    ; $D000 = vic_spr_coord.first
    ; $D001 = vic_spr0_y
    ; $D002 = vic_spr1_x
    ; $D003 = vic_spr1_y
    ; $D004 = vic_spr2_x
    ; $D005 = vic_spr2_y
    ; $D006 = vic_spr3_x
    ; $D007 = vic_spr3_y
    ; $D008 = vic_spr4_x
    ; $D009 = vic_spr4_y
    ; $D00A = vic_spr5_x
    ; $D00B = vic_spr5_y
    ; $D00C = vic_spr6_x
    ; $D00D = vic_spr6_y
    ; $D00E = vic_spr7_x
    ; $D00F = vic_spr7_y
    ; $D010 = vic_spr_hi_x
    ; $D011 = vic_cr1
    ; $D012 = vic_raster
    ; $D013 = vic_lp_x
    ; $D014 = vic_lp_y
    ; $D015 = vic_spr_ena
    ; $D016 = vic_cr2
    ; $D017 = vic_spr_exp_y
    ; $D018 = vic_mem
    ; $D019 = vic_irq
    ; $D01A = vic_irq_ena
    ; $D01B = vic_spr_dp
    ; $D01C = vic_spr_mcolor
    ; $D01D = vic_spr_exp_x
    ; $D01E = vic_spr_ss_col
    ; $D01F = vic_spr_sd_col
    ; $D020 = vic_border
    ; $D021 = vic_bg_color0
    ; $D022 = vic_bg_color1
    ; $D023 = vic_bg_color2
    ; $D024 = vic_bg_color3
    ; $D025 = vic_spr_color1
    ; $D026 = vic_spr_color2
    ; $D027 = vic_spr0_color
    ; $D027 = vic_spr_color.array
    ; $D027 = vic_spr_color.first
    ; $D028 = vic_spr1_color
    ; $D029 = vic_spr2_color
    ; $D02A = vic_spr3_color
    ; $D02B = vic_spr4_color
    ; $D02C = vic_spr5_color
    ; $D02D = vic_spr6_color
    ; $D02E = vic_spr7_color
    ; $D400 = sid_v1_freq
    ; $D400 = sid_v1_freq.lo
    ; $D401 = sid_v1_freq.hi
    ; $D402 = sid_v1_pulse
    ; $D402 = sid_v1_pulse.lo
    ; $D403 = sid_v1_pulse.hi
    ; $D404 = sid_v1_cr
    ; $D405 = sid_v1_ad
    ; $D407 = sid_v2_freq
    ; $D407 = sid_v2_freq.lo
    ; $D408 = sid_v2_freq.hi
    ; $D409 = sid_v1_sr
    ; $D409 = sid_v2_pulse
    ; $D409 = sid_v2_pulse.lo
    ; $D40A = sid_v2_pulse.hi
    ; $D40B = sid_v2_cr
    ; $D40C = sid_v2_ad
    ; $D40D = sid_v2_sr
    ; $D40E = sid_v3_freq
    ; $D40E = sid_v3_freq.lo
    ; $D40F = sid_v3_freq.hi
    ; $D410 = sid_v3_pulse
    ; $D410 = sid_v3_pulse.lo
    ; $D411 = sid_v3_pulse.hi
    ; $D412 = sid_v3_cr
    ; $D413 = sid_v3_ad
    ; $D414 = sid_v3_sr
    ; $D415 = sid_filt_cutoff
    ; $D415 = sid_filt_cutoff.lo
    ; $D416 = sid_filt_cutoff.hi
    ; $D417 = sid_filt_cr
    ; $D418 = sid_filt_mode
    ; $D419 = sid_paddle_x
    ; $D41A = sid_paddle_y
    ; $D41B = sid_v3_osc_out
    ; $D41C = sid_v3_adsr_out
    ; $D800 = c64_color_ram.array
    ; $D800 = c64_color_ram.first
    ; $DC00 = cia1_pra
    ; $DC01 = cia1_prb
    ; $DC02 = cia1_ddra
    ; $DC03 = cia1_ddrb
    ; $DC04 = timer_a_value
    ; $DC04 = timer_a_value.lo
    ; $DC05 = timer_a_value.hi
    ; $DC06 = timer_b_value
    ; $DC06 = timer_b_value.lo
    ; $DC07 = timer_b_value.hi
    ; $DC08 = tod_clock_tenth_secs
    ; $DC09 = tod_clock_seconds
    ; $DC0A = tod_clock_minutes
    ; $DC0B = tod_clock_hours
    ; $DC0D = interrupt_reg
    ; $DC0E = timer_a_control
    ; $DC0E = timer_a_control.lo
    ; $DC0F = timer_a_control.hi
    ; $DC0F = timer_b_control
    ; $DC0F = timer_b_control.lo
    ; $DC10 = timer_b_control.hi
    ; $DD00 = cia2_pra
    ; $DD01 = cia2_prb
    ; $DD02 = cia2_ddra
    ; $DD03 = cia2_ddrb
    ; $EA31 = old_irq
    ; $EA31 = old_irq.lo
    ; $EA32 = old_irq.hi
    ; $FFFA = nmi_routine_addr
    ; $FFFA = nmi_routine_addr.lo
    ; $FFFB = nmi_routine_addr.hi
    ; $FFFC = reset_routine_addr
    ; $FFFC = reset_routine_addr.lo
    ; $FFFD = reset_routine_addr.hi
    ; $FFFE = irq_routine_addr
    ; $FFFE = irq_routine_addr.lo
    ; $FFFF = irq_routine_addr.hi